!function(e,u){"use strict";var o=u(window),a=(u(document),u("body"));if(null==r)var r=function(e,t){t=decodeURI(t),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))};var t=function(e){var t=e.target;if(""!==t.value){if(""!==t.step){var i=t.step.toString().split("."),n=0;void 0!==i[1]&&(n=i[1].length),Number.isInteger(Number(t.value)/Number(t.step))||(t.value=Math.round(Number(t.value)/Number(t.step),n)*Number(t.step))}""!==t.max&&(t.value=Math.min(Number(t.value),Number(t.max))),""!==t.min&&(t.value=Math.max(Number(t.value),Number(t.min))),u(t).trigger("change")}else u(t).trigger("change")};u("#customize-theme-controls").on("blur",'input[type="number"]',t),u("#customize-theme-controls").on("keyup",'input[type="number"]',function(e){13==e.which&&t(e)}),u("#customize-theme-controls").on("focus",'input[type="number"]',function(e){u(this).on("mousewheel.disableScroll",function(e){e.preventDefault()})}),u("#customize-theme-controls").on("blur",'input[type="number"]',function(e){u(this).off("mousewheel.disableScroll")}),wp.customize.sectionConstructor["suki-section-pro-teaser"]=wp.customize.sectionConstructor["suki-section-pro-link"]=wp.customize.sectionConstructor["suki-section-spacer"]=wp.customize.Section.extend({attachEvents:function(){},isContextuallyActive:function(){return!0}}),wp.customize.SukiControl=wp.customize.Control.extend({initialize:function(e,t){var i=t||{};i.params=i.params||{},i.params.type||(i.params.type="suki-base"),i.params.content||(i.params.content=jQuery("<li></li>"),i.params.content.attr("id","customize-control-"+e.replace(/]/g,"").replace(/\[/g,"-")),i.params.content.attr("class","customize-control customize-control-"+i.params.type)),this.propertyElements=[],wp.customize.Control.prototype.initialize.call(this,e,i)},_setUpSettingRootLinks:function(){var n=this;n.container.find("[data-customize-setting-link]").each(function(){var i=jQuery(this);wp.customize(i.data("customizeSettingLink"),function(e){var t=new wp.customize.Element(i);n.elements.push(t),t.sync(e),t.set(e())})})},_setUpSettingPropertyLinks:function(){var n=this;n.setting&&n.container.find("[data-customize-setting-property-link]").each(function(){var t,e=jQuery(this),i=e.data("customizeSettingPropertyLink");t=new wp.customize.Element(e),n.propertyElements.push(t),t.set(n.setting()[i]),t.bind(function(e){var t=n.setting();e!==t[i]&&((t=_.clone(t))[i]=e,n.setting.set(t))}),n.setting.bind(function(e){e[i]!==t.get()&&t.set(e[i])})})},ready:function(){var e=this;e._setUpSettingRootLinks(),e._setUpSettingPropertyLinks(),wp.customize.Control.prototype.ready.call(e),e.deferred.embedded.done(function(){})},embed:function(){var t=this,e=t.section();e&&wp.customize.section(e,function(e){e.expanded()||wp.customize.settings.autofocus.control===t.id?t.actuallyEmbed():e.expanded.bind(function(e){e&&t.actuallyEmbed()})})},actuallyEmbed:function(){var e=this;"resolved"!==e.deferred.embedded.state()&&(e.renderContent(),e.deferred.embedded.resolve(),e.container.trigger("init"))},focus:function(e){this.actuallyEmbed(),wp.customize.Control.prototype.focus.call(this,e)}}),wp.customize.controlConstructor["suki-base"]=wp.customize.SukiControl,wp.customize.controlConstructor["suki-color"]=wp.customize.SukiControl.extend({ready:function(){var t=this,e=t.container.find(".color-picker-hex");e.wpColorPicker({change:function(){t.setting.set(e.wpColorPicker("color"))},clear:function(){t.setting.set("")}}),t.container.on("keydown",function(e){27===e.which&&t.container.find(".wp-picker-container").hasClass("wp-picker-active")&&(picker.wpColorPicker("close"),t.container.find(".wp-color-result").focus(),e.stopPropagation())})}}),wp.customize.controlConstructor["suki-shadow"]=wp.customize.SukiControl.extend({ready:function(){var t=this,n=t.container.find(".suki-shadow-input"),e=t.container.find(".suki-shadow-color input"),o=t.container.find(".suki-shadow-value");t.updateValue=function(e,t){var i=n.map(function(){return"text"===this.getAttribute("type")?""===this.value?"rgba(0,0,0,0)":this.value:""===this.value?"0":this.value.toString()+"px"}).get();o.val(i.join(" ")).trigger("change")},e.wpColorPicker({change:t.updateValue,clear:t.updateValue}),t.container.on("keydown",function(e){27===e.which&&t.container.find(".wp-picker-container").hasClass("wp-picker-active")&&(picker.wpColorPicker("close"),t.container.find(".wp-color-result").focus(),e.stopPropagation())}),n.on("change blur",t.updateValue)}}),wp.customize.controlConstructor["suki-dimension"]=wp.customize.SukiControl.extend({ready:function(){this.container.find(".suki-dimension-fieldset").each(function(e,t){var i=u(t),n=i.find(".suki-dimension-unit"),o=i.find(".suki-dimension-input"),a=i.find(".suki-dimension-value");n.on("change",function(e){var t=n.find('option[value="'+this.value+'"]');o.attr("min",t.attr("data-min")),o.attr("max",t.attr("data-max")),o.attr("step",t.attr("data-step")),o.val("").trigger("change")}),o.on("change blur",function(e){var t=""===this.value?"":this.value.toString()+n.val().toString();a.val(t).trigger("change")})})}}),wp.customize.controlConstructor["suki-slider"]=wp.customize.SukiControl.extend({ready:function(){this.container.find(".suki-slider-fieldset").each(function(e,t){var i=u(t),n=i.find(".suki-slider-unit"),o=i.find(".suki-slider-input"),a=i.find(".suki-slider-ui"),r=i.find(".suki-slider-reset"),s=i.find(".suki-slider-value");a.slider({value:o.val(),min:+o.attr("min"),max:+o.attr("max"),step:+o.attr("step"),slide:function(e,t){o.val(t.value).trigger("change")}}),r.on("click",function(e){var t=u(this).attr("data-number"),i=u(this).attr("data-unit");n.val(i),o.val(t).trigger("change"),a.slider("value",t)}),n.on("change",function(e){var t=n.find('option[value="'+this.value+'"]');o.attr("min",t.attr("data-min")),o.attr("max",t.attr("data-max")),o.attr("step",t.attr("data-step")),a.slider("option",{min:+o.attr("min"),max:+o.attr("max"),step:+o.attr("step")}),o.val("").trigger("change")}),o.on("change blur",function(e){a.slider("value",this.value);var t=""===this.value?"":this.value.toString()+n.val().toString();s.val(t).trigger("change")})})}}),wp.customize.controlConstructor["suki-dimensions"]=wp.customize.SukiControl.extend({ready:function(){this.container.find(".suki-dimensions-fieldset").each(function(e,t){var i=u(t),a=i.find(".suki-dimensions-unit"),n=i.find(".suki-dimensions-link"),o=i.find(".suki-dimensions-unlink"),r=i.find(".suki-dimensions-input"),s=i.find(".suki-dimensions-value");a.on("change",function(e){var t=a.find('option[value="'+this.value+'"]');r.attr("min",t.attr("data-min")),r.attr("max",t.attr("data-max")),r.attr("step",t.attr("data-step")),r.val("").trigger("change")}),n.on("click",function(e){e.preventDefault(),i.attr("data-linked","true"),r.val(r.first().val()).trigger("change"),r.first().focus()}),o.on("click",function(e){e.preventDefault(),i.attr("data-linked","false"),r.first().focus()}),r.on("keyup mouseup",function(e){"true"==i.attr("data-linked")&&r.not(this).val(this.value).trigger("change")}),r.on("change blur",function(e){var t,i=[],n=a.val().toString(),o=!0;r.each(function(){""===this.value?i.push("0"+n):(i.push(this.value.toString()+n),o=!1)}),t=o?"   ":i.join(" "),s.val(t).trigger("change")})})}}),wp.customize.controlConstructor["suki-typography"]=wp.customize.SukiControl.extend({ready:function(){this.container.find(".suki-typography-size").each(function(e,t){var i=u(t),n=i.find(".suki-typography-size-unit"),o=i.find(".suki-typography-size-input"),a=i.find(".suki-typography-size-value"),r=function(e){var t=n.find('option[value="'+e+'"]');o.attr("min",t.attr("data-min")),o.attr("max",t.attr("data-max")),o.attr("step",t.attr("data-step"))};n.on("change",function(e){r(this.value),o.val("").trigger("change")}),r(n.val()),o.on("change blur",function(e){var t=""===this.value?"":this.value.toString()+n.val().toString();a.val(t).trigger("change")})})}}),wp.customize.controlConstructor["suki-multicheck"]=wp.customize.SukiControl.extend({ready:function(){var i=this,n=i.container.find(".suki-multicheck-input");n.on("change",function(e){var t=[];n.each(function(){this.checked&&t.push(this.value)}),i.setting.set(t)})}}),wp.customize.controlConstructor["suki-builder"]=wp.customize.SukiControl.extend({ready:function(){var a=this;a.builder=a.container.find(".suki-builder"),a.builderLocations=a.builder.find(".suki-builder-location"),a.builderInactive=a.builder.find(".suki-builder-inactive"),a.updateValue=function(e){if("__inactive"!==e){var t=a.builderLocations.filter('[data-location="'+e+'"]').find(".suki-builder-element"),i=[];t.each(function(){i.push(u(this).attr("data-value"))}),null!==a.settings?a.settings[e].set(i):a.setting.set(i)}},a.container.on("keyup","[tabindex]",function(e){13!=e.which&&32!=e.which||u(this).trigger("click")}),a.container.on("click",".suki-builder-element-add",function(e){e.preventDefault();var t=u(this),i=t.closest(".suki-builder-location"),n=t.closest(".suki-builder-locations");a.builderInactive.prev().get(0)==i.get(0)&&a.builderInactive.hasClass("show")?a.builderInactive.removeClass("show").appendTo(n):a.builderInactive.addClass("show").insertAfter(i)}),a.container.on("click",".suki-builder-inactive .suki-builder-element",function(e){if(e.preventDefault(),a.builderInactive.hasClass("show")){var t=u(this),i=a.builderInactive.prev(".suki-builder-location");t.appendTo(i.children(".suki-builder-sortable-panel")),a.builderInactive.removeClass("show"),a.updateValue(i.attr("data-location"))}}),a.container.on("click",".suki-builder-element-delete",function(e){e.preventDefault();var t=u(this).parent(".suki-builder-element"),i=t.closest(".suki-builder-location");t.prependTo(a.builderInactive.children(".suki-builder-sortable-panel")),a.updateValue(i.attr("data-location"))}),a.container.find(".suki-builder-sortable-panel").sortable({items:".suki-builder-element:not(.suki-builder-element-disabled)",connectWith:'.suki-builder-sortable-panel[data-connect="'+a.builder.attr("data-name")+'"]',containment:a.container,update:function(e,t){a.updateValue(u(e.target).parent().attr("data-location"))},receive:function(e,t){0<=u(t.item).attr("data-limitations").split(",").indexOf(u(this).parent().attr("data-location"))&&u(t.sender).sortable("cancel")},start:function(e,t){for(var i=u(t.item).attr("data-limitations").split(","),n=0;n<i.length;++n){var o=a.builderLocations.filter('[data-location="'+i[n]+'"]');void 0!==o&&o.addClass("disabled")}},stop:function(e,t){a.builderLocations.removeClass("disabled"),a.builderInactive.removeClass("disabled")}}).disableSelection()}}),wp.customize.bind("ready",function(){u("#customize-theme-controls").on("click",".suki-responsive-switcher-button",function(e){e.preventDefault(),wp.customize.previewedDevice.set(u(this).attr("data-device"))});var t=function(){var e=wp.customize.previewedDevice.get(),t=u("span.suki-responsive-switcher-button"),i=u(".suki-responsive-switcher-button.nav-tab");u(".suki-responsive-fieldset").removeClass("active").filter(".preview-"+e).addClass("active"),t.removeClass("active").filter(".preview-"+e).addClass("active"),i.removeClass("nav-tab-active").filter(".preview-"+e).addClass("nav-tab-active")};wp.customize.previewedDevice.bind(t),wp.customize.section.each(function(e){e.expanded.bind(t)}),u("#customize-theme-controls").on("click",".suki-customize-set-preview-url",function(e){e.preventDefault();var t=u(this).attr("href"),i=r("url",t);i!==wp.customize.previewer.previewUrl()&&wp.customize.previewer.previewUrl(i)}),u("#customize-theme-controls").on("click",".suki-customize-goto-control",function(e){e.preventDefault();var t=u(this).attr("href"),i=r("autofocus[control]",t),n=r("autofocus[section]",t),o=r("autofocus[panel]",t);i?wp.customize.control(i).focus():n?wp.customize.section(n).focus():o&&wp.customize.panel(o).focus()}),sukiCustomizerControlsData&&sukiCustomizerControlsData.contexts&&_.each(sukiCustomizerControlsData.contexts,function(i,e){var c=function(e){switch(e){case"__device":return wp.customize.previewedDevice;default:return wp.customize(e)}},t=function(e){var t=function(){var s=!1,u=i.relation;return"OR"!==u&&(u="AND",s=!0),_.each(i,function(e,t){if("relation"!=t&&("AND"!=u||0!=s)&&void 0!==e.setting){var i=!1,n=c(e.setting);if(void 0!==n){var o=e.operator,a=e.value,r=n.get();switch(null!=o&&"="!=o||(o="=="),o){case">":i=a<r;break;case"<":i=r<a;break;case">=":i=a<=r;break;case"<=":i=r<=a;break;case"in":i=0<=a.indexOf(r);break;case"contains":i=0<=r.indexOf(a);break;case"!=":i=a!=r;break;case"empty":i=0==r.length;break;case"!empty":i=0<r.length;break;default:i=a==r}}switch(u){case"OR":s=s||i;break;default:s=s&&i}}}),s},n=function(){e.active.set(t())};_.each(i,function(e,t){if("relation"!=t){var i=c(e.setting);void 0!==i&&i.bind(n)}}),e.active.validate=t,n()};0==e.indexOf("suki_section")?wp.customize.section(e,t):wp.customize.control(e,t)});var n=function(){var e=u(".control-section.suki-builder-active");a.hasClass("suki-has-builder-active")&&0<e.length&&!e.hasClass("suki-hide")?wp.customize.previewer.container.css({bottom:e.outerHeight()+"px"}):wp.customize.previewer.container.css({bottom:""})};o.on("resize",n),wp.customize.previewedDevice.bind(function(e){setTimeout(function(){n()},250)});var e=function(e){var t="suki_panel_header"===e.id?wp.customize.section("suki_section_header_builder"):wp.customize.section("suki_section_footer_builder"),i=t.contentContainer;e.expanded.bind(function(e){_.each(t.controls(),function(e){"resolved"!==e.deferred.embedded.state()&&(e.renderContent(),e.deferred.embedded.resolve(),e.container.trigger("init"))}),e?(a.addClass("suki-has-builder-active"),i.addClass("suki-builder-active")):(a.removeClass("suki-has-builder-active"),i.removeClass("suki-builder-active")),n()}),i.on("click",".suki-builder-toggle",function(e){e.preventDefault(),i.toggleClass("suki-hide"),n()}),i.find(".suki-builder-sortable-panel").on("sortover",function(e,t){n()})};wp.customize.panel("suki_panel_header",e),wp.customize.panel("suki_panel_footer",e),wp.customize.control("footer_elements").container.on("init",t);var i=function(e){var t=u(this),i=t.find(".suki-builder-locations").addClass("suki-builder-groups"),n=".suki-builder-location-vertical_top, .suki-builder-location-vertical_bottom, .suki-builder-location-mobile_vertical_top",o=t.find(n),a=t.find(".suki-builder-location").not(n);o.length&&u(document.createElement("div")).addClass("suki-builder-group suki-builder-group-vertical suki-builder-layout-block").appendTo(i).append(o),a.length&&u(document.createElement("div")).addClass("suki-builder-group suki-builder-group-horizontal suki-builder-layout-inline").appendTo(i).append(a),t.find('.suki-builder-element[data-value="logo"], .suki-builder-element[data-value="mobile-logo"]').addClass("button-primary"),t.on("click",".suki-builder-location .suki-builder-element > span",function(e){e.preventDefault();var t="heading_header_"+u(this).parent(".suki-builder-element").attr("data-value").replace("-","_"),i=wp.customize.control(t);i&&i.focus()}),t.on("click",".suki-builder-group-edit",function(e){e.preventDefault();var t="suki_section_"+("footer_elements"==control.id?"footer":"header")+"_"+u(this).attr("data-value").replace("-","_"),i=wp.customize.section(t);i&&i.focus()})};wp.customize.control("header_elements").container.on("init",i),wp.customize.control("header_mobile_elements").container.on("init",i),wp.customize.control("footer_elements").container.on("init",i)})}(wp,jQuery);